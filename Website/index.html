<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Wizard Insurance</title>
    <link rel="stylesheet" href ="css/materialize.css">
    <script src="js/materialize.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyCMhdnqEpzfxFp9f8EyU0Seac69fYkmb7c",
        authDomain: "wizard-insurance.firebaseapp.com",
        databaseURL: "https://wizard-insurance.firebaseio.com",
        projectId: "wizard-insurance",
        storageBucket: "wizard-insurance.appspot.com",
        messagingSenderId: "348481372939"
      };
      firebase.initializeApp(config);
    </script>
    <script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
    <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css" />
    <script type="text/javascript">
        // FirebaseUI config.
        var uiConfig = {
            // Create employee home page
          signInSuccessUrl: 'wizard-insurance.firebaseapp.com/employee_home.html',
          signInOptions: [
            // Leave the lines as is for the providers you want to offer your users.
            firebase.auth.EmailAuthProvider.PROVIDER_ID
          ],
          // tosUrl and privacyPolicyUrl accept either url string or a callback
          // function.
          // Terms of service url/callback.
          // Create terms of service page
          tosUrl: 'wizard-insurance.firebaseapp.com/tos',
          // Privacy policy url/callback.
          // Create privacy policy page
          privacyPolicyUrl: function() {
            window.location.assign('wizard-insurance.firebaseapp.com/privacy');
          }
        };
  
        // Initialize the FirebaseUI Widget using Firebase.
        var ui = new firebaseui.auth.AuthUI(firebase.auth());
        // The start method will wait until the DOM is loaded.
        ui.start('#firebaseui-auth-container', {
            signInOptions: [
                {
                    provider: firebase.auth.EmailAuthProvider.PROVIDER_ID,
                    requireDisplayName: false;
                }
            ]
        });
      </script>
    
    <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-messaging.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-functions.js"></script>

    <script>
        function login(){
            let username = document.getElementById("user").value;
            let password = document.getElementById("pass").value;

            //Query database here to see if the username and password match anyone with Admin privledges
            firebase.auth().signInWithEmailAndPassword(username, password).catch(function(error) {
                var error = error.code;
                var msg = error.message;
                console.log("Error Code: " + error + " " + msg);
            });
        }
    </script>
</head>
<body style="background: lightblue;">
<header>
<nav class ="indigo" style="margin-bottom: 0px;">
    <div style="padding-left: 1%" class = "nav-wrapper">
        <a href="#" class ="brand-logo">Wizard Insurance</a>
        <ul id = "nav-mobile" class = "right hide-on-med-and-down">
            <li><!-- Links to other parts of the website here --></li>
            <li style ="align-content: center">
                <h5 style="margin-right: 20px" id = "username"><b>Username:     </b></h5>
            </li>
            <li>
                <input type ="email" id="email"/>
            </li>
            <li>
                <h5 style="margin-right: 20px" id = "password"><b>Password:    </b></h5>
            </li>
            <li>
                <input type="password" id ="pass"/>
            </li>
            <li>
                <button id = "login" onclick="login()">Login</button>
            </li>
        </ul>
    </div>
</nav>
<nav id = "notLoggedIn" class = "lighten-1 indigo" style = "padding-left: 1%">
    <p>Log in to view clients policies</p>
</nav>
    </header>

</body>
</html>
